<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sostenibilidad Generativa</title>
    <link rel="stylesheet" href="<%= CONTEXT_PATH %>/css/styles.css">
</head>
<body>
    <header>
        <img src="<%= CONTEXT_PATH %>/imgs/sg-logo.png" alt="Logo" style="height: 40px; cursor: pointer;" onclick="backToMenu('<%= WEB_PRINCIPAL_URL %>', '<%= CONTEXT_PATH %>')">
    </header>
    <div class="container">
        <intro class="intro">
            <h1><%= title %></h1>
            <div class="desc">
                <%= desc %>
            </div>
            <div id="already-completed" class ="desc" style="color:var(--verde-claro);"></div>
            <div class="desc">
                La contrase√±a final est√° compuesta por 4 car√°cteres, para recuperar cada uno de ellos debes desbloquear 4 ordenadores (ahora mismo est√°s en uno de ellos). Cada ordenador se desbloquea con una <span class="highlight">contrase√±a compuesta por 4 o 5 n√∫meros</span> (diferentes de la contrase√±a maestra) que obtendr√°s interactuando con el Chatbot. Una vez desbloquees un ordenador, este te dar√° un √∫nico car√°cter de la contrase√±a maestra. Reune todos los caracteres de la contrase√±a maestra para detener el virus y escapar de la Escape Room. Recuerda que para <span class="highlight">ahorrar energ√≠a</span> debes usar t√©cnicas de prompt eficientes. Puedes consultar nuestra <a target="_blank" href="<%= WEB_PRINCIPAL_URL %>/environmental-impact#guia-buenas-practicas"><span class="highlight">gu√≠a de buenas pr√°cticas.</span></a> Una buena forma de comenzar tu conversaci√≥n es pidi√©ndole al asistente que se presente y te explique en qu√© puede ayudarte, por ejemplo <span class="highlight">"Hola, ¬øqui√©n eres?"</span> Despu√©s pide pistas para obtener los car√°cteres de la contrase√±a. Cada <span class="highlight">3 minutos</span> puedes pedir una <span class="highlight">pista</span>. Hay una pista por cada d√≠gito o grupo de d√≠gitos.
            </div>
        </intro>
            <!-- Pistas visuales -->
        <div class="desc">
            <span id="pista-timer-text"></span><span id="pista-timer-number"></span>
        </div>
        <div class="hints-balls-container">
            <% if (typeof pistas !== 'undefined') { %>
                <% Object.keys(pistas).sort().forEach(function(key) { %>
                        <button type="button" class="hint-ball" aria-label="Pista <%= key %>" data-pista="<%- pistas[key].replace(/'/g, '&apos;').replace(/\"/g, '&quot;') %>"><%= key %></button>
                <% }); %>
            <% } %>
        </div>
</head>
        <main class="main-content">
            <div class="left-panel">
                <div class="chatbot-container">
                    <div class="chatbot-intro">
                        <h3><%= botTitle %></h3>
                        <div class="energy-container">
                            <div class="battery">
                                <div class="battery-level" id="batteryLevel"></div>
                                <span id="energyValue">100%</span>
                                <span id="energyRays">‚ö°‚ö°‚ö°</span>
                            </div>
                        </div>
                    </div>
                    <iframe id="iframeEscape" src="<%=IFRAME_URL%>/embed/<%= iframe %>?assistant_name=<%= botName %>&escapp_email=<%= escapp_email %>"></iframe>
                </div>
            </div>
            <div class="right-panel">
                <div class="lock-container">
                    <h2 id="lockTitle">üîí Ordenador Bloqueado</h2>
                    <div class="timer-container">
                        <h2 class="timer" id="timer">00:00</h2>
                    </div>
                    <form class="lockbox" id="lockForm" autocomplete="off">
                        <label for="password">Introduce la contrase√±a:</label>
                        <input id="password" required autocomplete="off" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        <button type="submit">Desbloquear ordenador</button>
                        <div id="message"></div>
                        <div style="display:none;" id="backMenu"><a onclick="backToMenu('<%= WEB_PRINCIPAL_URL %>', '<%= CONTEXT_PATH %>')">Volver al men√∫</a></div>
                    </form>
                </div>
            </div>
        </main>
    </div>
    <div class="fixed-center">
        <iframe id="babyShark" style="display:none;" width="560" height="315" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-collaborators">
                <div class="logos-container">
                  <a href="https://cotec.es" target="_blank" rel="noopener">
                    <img src="<%= CONTEXT_PATH %>/imgs/cotec-logo.png" alt="COTEC">
                  </a>
                  <a href="https://ging.github.io/" target="_blank" rel="noopener">
                    <img src="<%= CONTEXT_PATH %>/imgs/GING-logo.png" alt="GING">
                  </a>
                  <a href="https://www.upm.es" target="_blank" rel="noopener">
                    <img src="<%= CONTEXT_PATH %>/imgs/UPM-logo.png" alt="Universidad Polit√©cnica de Madrid">
                  </a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Modal de pista -->
    <div id="modalPista">
        <div class="modal-content">
            <span id="modalPistaTexto"></span>
            <button class="modal-close-btn" onclick="document.getElementById('modalPista').style.display='none'">Cerrar</button>
        </div>
    </div>
    
    <script src="<%= CONTEXT_PATH %>/js/script.js" onload='initEscapeRoom({
        room: "<%= room %>",
        totalEnergy: <%= totalEnergy %>,
        inputWordsPenalty: <%= inputWordsPenalty %>,
        outputWordsPenalty: <%= outputWordsPenalty %>,
        failurePenalty: <%= failurePenalty %>,
        timeLimit: <%= timeLimit %>,
        allowContinueAfterGameOver: <%= allowContinueAfterGameOver %>,
        contextPath: "<%= CONTEXT_PATH %>",
        webPrincipalUrl: "<%= WEB_PRINCIPAL_URL %>",
        newCSS: `<%= newCSSIframe %>`
    })'></script>
</body>
</html> 